# 7.1 Animaci贸n I

## Fundamentos de la Animaci贸n en Processing

La animaci贸n en pantalla se crea mediante im谩genes est谩ticas que se van superponiendo, creando la ilusi贸n del movimiento por la **"persistencia de la visi贸n"**. Cuando se presenta un conjunto de im谩genes similares a un ritmo lo suficientemente r谩pido, nuestro cerebro las traduce en im谩genes en movimiento.

---

##  **Frame Rate y Control de Tiempo**

### **Verificando el Frame Rate**
Para crear un movimiento suave, Processing intenta correr el c贸digo dentro de `draw()` a **60 frames por segundo**. Para confirmar el frame rate actual:

```processing
void draw() {
    println(frameRate);
}
```

### **Modificando el Frame Rate**
Podemos ajustar el frame rate usando la funci贸n `frameRate()`:

```processing
void setup() {
    frameRate(30);  // 30 frames por segundo
    //frameRate(12);  // 12 frames por segundo  
    //frameRate(2);   // 2 frames por segundo
    //frameRate(0.5); // 1 frame cada 2 segundos
}

void draw() {
    println(frameRate);
}
```

---

##  **Velocidad y Direcci贸n**

### **Movimiento B谩sico**
Para crear movimientos fluidos, usamos el tipo de dato `float` que nos da m谩s resoluci贸n:

**C贸digo 7.1** - Movimiento vertical b谩sico:
```processing
float y = 50.0;
float velocidad = 3.0;
float radio = 55.0;

void setup() {
    size(500, 500);
    noStroke();
    ellipseMode(RADIUS);
}

void draw() {
    background(0);
    ellipse(133, y, radio, radio);
    y = y + velocidad;
}
```

> 锔 **Problema**: La elipse se sale por la parte inferior y sigue siendo calculada por Processing, lo que puede ralentizar el programa.

### **Movimiento C铆clico**
**C贸digo 7.2** - Reinicio cuando sale de pantalla:
```processing
float y = 50.0;
float velocidad = 7.0;
float radio = 15.0;

void setup() {
    size(500, 500);
    noStroke();
    ellipseMode(RADIUS);
}

void draw() {
    background(0);
    ellipse(133, y, radio, radio);
    y = y + velocidad;
    
    // Reiniciar cuando sale de pantalla
    if (y > height + radio) {
        y = -radio;
    }
}
```

### **Movimiento Horizontal**
**C贸digo 7.3** - Movimiento de izquierda a derecha:
```processing
float x = 0.0;
float velocidad = 3.0;
float radio = 55.0;

void setup() {
    size(500, 500);
    noStroke();
    ellipseMode(RADIUS);
}

void draw() {
    background(0);
    ellipse(x, height/2, radio, radio);
    x = x + velocidad;
    
    if (x > width + radio) {
        x = -radio;
    }
}
```

---

##  **Cambio de Direcci贸n**

### **Rebote Simple**
**C贸digo 7.4** - Rebote horizontal:
```processing
float x = 55.0;
float velocidad = 7.0;
float radio = 55.0;
int direction = 1;

void setup() {
    size(500, 500);
    noStroke();
    ellipseMode(RADIUS);
}

void draw() {
    background(0);
    ellipse(x, height/2, radio, radio);
    x += velocidad * direction;
    
    // Cambiar direcci贸n en los bordes
    if ((x > width - radio) || (x < radio)) {
        direction = -direction;
    }
}
```

### **Rebote Bidimensional**
**C贸digo 7.6** - Rebote en todas las paredes con efectos visuales:
```processing
float x = 55.0;
float y = 55.0;
float velocidadX = 7.0;
float velocidadY = 2.0;
float radio = 40.0;
int directionX = 1;
int directionY = -1;

void setup() {
    size(800, 800);
    noStroke();
    ellipseMode(RADIUS);
    background(0);
}

void draw() {
    // Efecto de estela con transparencia
    fill(0, 15);
    rect(0, 0, width, height);
    
    // Cambiar color seg煤n direcci贸n Y
    if (directionY == -1) {
        fill(255, 0, 0);  // Rojo subiendo
    } else {
        fill(0, 0, 255);  // Azul bajando
    }
    
    ellipse(x, y, radio, radio);
    
    // Actualizar posici贸n X
    x += velocidadX * directionX;
    if ((x > width - radio) || (x < radio)) {
        directionX = -directionX;
    }
    
    // Actualizar posici贸n Y
    y += velocidadY * directionY;
    if ((y > height - radio) || (y < radio)) {
        directionY = -directionY;
    }
}
```

---

##  **An谩lisis del Movimiento**

### **Ecuaci贸n Fundamental**
```processing
// La base de toda animaci贸n
posicion = posicion + velocidad;

// En cada frame:
x = x + velocidadX;
y = y + velocidadY;
```

### **Variables Clave**
- **`posici贸n`**: Ubicaci贸n actual del objeto (x, y)
- **`velocidad`**: Cambio de posici贸n por frame
- **`direcci贸n`**: Multiplica la velocidad (+1 o -1)
- **`radio`**: Tama帽o del objeto para c谩lculos de colisi贸n

### **Detecci贸n de Bordes**
```processing
// Borde derecho
if (x > width - radio) {
    direction = -direction;
}

// Borde izquierdo  
if (x < radio) {
    direction = -direction;
}

// Forma compacta
if ((x > width - radio) || (x < radio)) {
    direction = -direction;
}
```

---

##  **Efectos Visuales**

### **Efecto de Estela**
En lugar de limpiar completamente el fondo, usa transparencia:
```processing
// En lugar de: background(0);
fill(0, 15);  // Negro con alpha bajo
rect(0, 0, width, height);
```

### **Cambios de Color Din谩micos**
```processing
// Color basado en direcci贸n
if (directionY == -1) {
    fill(255, 0, 0);  // Rojo subiendo
} else {
    fill(0, 0, 255);  // Azul bajando
}
```

---

##  **Ejercicios Pr谩cticos**

### **Ejercicio 1**: Pelota Multicolor
Modifica el c贸digo 7.6 para que el color cambie gradualmente usando:
```processing
fill(frameCount % 255, 128, 255);
```

### **Ejercicio 2**: Velocidad Variable
Crea una pelota que acelere cuando se mueve hacia la derecha y desacelere hacia la izquierda.

### **Ejercicio 3**: M煤ltiples Pelotas
Usa arrays para crear 5 pelotas con diferentes velocidades y colores.

---

##  **Consejos de Optimizaci贸n**

1. **Usa `float`** para movimientos suaves
2. **Calcula bordes** considerando el radio del objeto
3. **Reutiliza variables** en lugar de crear nuevas en `draw()`
4. **Experimenta con frame rate** para diferentes efectos

---

##  **C贸digo Relacionado**
- **C贸digo 7.1**: Movimiento vertical b谩sico
- **C贸digo 7.2**: Reinicio en bordes  
- **C贸digo 7.3**: Movimiento horizontal
- **C贸digo 7.4**: Rebote simple
- **C贸digo 7.6**: Rebote bidimensional con efectos

---

**Anterior**: [Cap铆tulo 07 - ndice](./README.md) | **Siguiente**: [7.2 Movimiento de A a B](./7.2-movimiento-a-b.md)